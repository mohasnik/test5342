"File: test5342.c    Assembler  Version HGASM0202      Page 1


   1  0000              ; Generated by holtek-gcc v3.19, Thu Nov 03 13:21:59 2022
   2  0000              ; 
   3  0000              ; Configuration:
   4  0000              ;       with long instruction
   5  0000              ;       Single ROM, Multi-RAM
   6  0000              ;       bits_per_rom_unit:16
   7  0000              ;       with mp1
   8  0000              ;       with tbhp, address(0x9)
   9  0000              ;          Use tabrd-const
  10  0000              ;       
  11  0000              ; SFR address of long-instruction arch:
  12  0000              ;    mp0 = -1,1,0
  13  0000              ;    mp1 = 4,3,2
  14  0000              ;    mp2 = 14,13,12
  15  0000              ;    tbp = 9,7,8
  16  0000              ;    acc = 5
  17  0000              ;    pcl = 6
  18  0000              ;    status = 10
  19  0000              ;    bp = 11
  20  0000              ;    intc = 32
  21  0000              ;       
  22  0000              ;       
  23  0000              ; use 'tabrdc' instead of 'tabrd'
  24  0000              ;       
  25  0000              
  26  0000              #pragma translator "holtek-gcc 4.6.4" "3.19" "build 20130711"
  27  0000              ; Rebuild 718
  28  0000              
  29  0000              ir equ [2]
  30  0000              mp equ [3]
  31  0000              sbp equ [4]
  32  0000              acc equ [5]
  33  0000              bp equ [11]
  34  0000              tblp equ [7]
  35  0000              tbhp equ [9]
  36  0000              status equ [10]
  37  0000              c equ [10].0
  38  0000              ac equ [10].1
  39  0000              z equ [10].2
  40  0000              ov equ [10].3
  41  0000              cz equ [10].6
  42  0000              sc equ [10].7
  43  0000              intc equ [32]
  44  0000              
  45  0000              extern ra:byte
  46  0000              extern rb:byte
  47  0000              extern rc:byte
  48  0000              extern rd:byte
  49  0000              extern re:byte
  50  0000              extern rf:byte
  51  0000              extern rg:byte
  52  0000              extern rh:byte
  53  0000              extern _Crom2Prom:near
  54  0000              extern _Crom2PromNext:near
  55  0000              
  56  0000              RAMBANK 0 @BITDATASEC, @BITDATASEC1
  57  0000              @HCCINIT	.section 'data'
  58  0000              @HCCINIT0	.section 'data'
  59  0000              @BITDATASEC	 .section 'data'
"File: test5342.ASM  Assembler  Version HGASM0202      Page 2

  60  0000              @BITDATASEC1	 .section 'data'
  61  0000              
  62  0000              #pragma debug scope 1 1
  63  0000              	extern __DELAY3:near
  64  0000              	extern __DELAYX3:near
  65  0000              	extern __DELAYX6:near
  66  0000              	extern __DELAYY5:near
  67  0000              	extern __DELAYY3:near
  68  0000              	extern _builtin_holtek_delay_2:byte
  69  0000              ___wdtc equ [30]
  70  0000              ___hircc equ [17]
  71  0000              ___pas1 equ [48]
  72  0000              ___pas0 equ [47]
  73  0000              ___pac equ [21]
  74  0000              ___sledc equ [116]
  75  0000              ___pa equ [20]
  76  0000              ___intc0 equ [32]
  77  0000              public _main
  78  0000              #pragma debug scope 2 1

  25  0000              #line 25 "E:\work\Quby\CODE\holtek dev\test5342\test5342.c"
  25  0000              IFDEF WITH_DEFAULT_STARTUP
  25  0000              extern _main_initial0:near
  25  0000              extern _main_startup:near
  25  0000              ENDIF
  25  0000              
  25  0000              ROMBANK 0 @start
  25  0000              @start .section com_l 'code'
  25  0000              _main_startup1:
  25  0000              @start .section com_e 'code'
  25  0000  2800     R  	jmp _main
  25  0001              
  25  0000              _main .section 'code'
  25  0000              _main proc
  25  0000  00              local _main_2 db 1 dup(?)
  27  0001              #line 27 "E:\work\Quby\CODE\holtek dev\test5342\test5342.c"
  27  0000  0FA8        	mov a,168
  27  0001  009E        	mov [30],a
  27  0002  3191        	set [17].3
  28  0003              #line 28 "E:\work\Quby\CODE\holtek dev\test5342\test5342.c"
  28  0003  0F02        	mov a,2
  28  0004  0080     E  	mov _UART_Init_2[1],a
  28  0005  1F00     E  	clr _UART_Init_2[0]
  28  0006  0F64        	mov a,100
  28  0007  2000     E  	call _UART_Init
  31  0008              #line 31 "E:\work\Quby\CODE\holtek dev\test5342\test5342.c"
  31  0008  35B0        	clr [48].3
  31  0009  3130        	set [48].2
  33  000A              #line 33 "E:\work\Quby\CODE\holtek dev\test5342\test5342.c"
  33  000A  30B0        	set [48].1
  33  000B  3430        	clr [48].0
  36  000C              #line 36 "E:\work\Quby\CODE\holtek dev\test5342\test5342.c"
  36  000C  35AF        	clr [47].3
  36  000D  352F        	clr [47].2
  36  000E  3495        	clr [21].1
  37  000F              #line 37 "E:\work\Quby\CODE\holtek dev\test5342\test5342.c"
  37  000F  3074        	set [116].0
  38  0010              #line 38 "E:\work\Quby\CODE\holtek dev\test5342\test5342.c"
  38  0010  30F4        	set [116].1
  39  0011              #line 39 "E:\work\Quby\CODE\holtek dev\test5342\test5342.c"
"File: test5342.c    Assembler  Version HGASM0202      Page 3

  39  0011  3494        	clr [20].1
  41  0012              #line 41 "E:\work\Quby\CODE\holtek dev\test5342\test5342.c"
  41  0012  36B0        	clr [48].5
  41  0013  3630        	clr [48].4
  41  0014  3715        	clr [21].6
  42  0015              #line 42 "E:\work\Quby\CODE\holtek dev\test5342\test5342.c"
  42  0015  3714        	clr [20].6
  45  0016              #line 45 "E:\work\Quby\CODE\holtek dev\test5342\test5342.c"
  45  0016  2000     E  	call _ADC_Init
  46  0017              #line 46 "E:\work\Quby\CODE\holtek dev\test5342\test5342.c"
  46  0017  0720        	mov a,[32]
  46  0018  0080     E  	mov ra,a
  46  0019  0F01        	mov a,1
  46  001A  0680     E  	andm a,ra
  46  001B  1080     E  	sz ra
  46  001C  2800     R  	jmp _L2
  46  001D              #line 46 "E:\work\Quby\CODE\holtek dev\test5342\test5342.c"
  46  001D  3020        	set [32].0
  46  001E              _L2:
  46  001E  31A0        	set [32].3
  48  001F              #line 48 "E:\work\Quby\CODE\holtek dev\test5342\test5342.c"
  48  001F  0F01        	mov a,1
  48  0020  0080     E  	mov _slave_id[0],a
  48  0021              _L6:
  56  0021              #line 56 "E:\work\Quby\CODE\holtek dev\test5342\test5342.c"
  56  0021  0700     E  	mov a,_state[0]
  56  0022  0080     E  	mov ra,a
  56  0023  1F00     E  	clr rb
  56  0024  0F40        	mov a,64  
  56  0025  0680     E  	andm a,ra  
  56  0026  0F00        	mov a,0  
  56  0027  0680     E  	andm a,rb
  56  0028  0700     E  	mov a,ra
  56  0029  0500     E  	or a,rb
  56  002A  3D0A        	sz z
  56  002B  2800     R  	jmp _L3
  56  002C              #pragma debug scope 3 2
  56  002C              ;begin block, line: 56.-1
  56  002C              #pragma debug variable 8 3 _main_2+0 "i"
  58  002C              #line 58 "E:\work\Quby\CODE\holtek dev\test5342\test5342.c"
  58  002C  35A0        	clr [32].3
  60  002D              #line 60 "E:\work\Quby\CODE\holtek dev\test5342\test5342.c"
  60  002D  1F00     R  	clr _main_2[0]
  62  002E              #line 62 "E:\work\Quby\CODE\holtek dev\test5342\test5342.c"
  62  002E  2800     R  	jmp _L4
  62  002F              _L5:
  63  002F              #line 63 "E:\work\Quby\CODE\holtek dev\test5342\test5342.c"
  63  002F  0700     R  	mov a,_main_2[0]
  63  0030  0080     E  	mov ra,a
  63  0031  1F00     E  	clr rb
  63  0032  0F05        	mov a,5
  63  0033  0200     E  	sub a,ra
  63  0034  0080     E  	mov rc,a
  63  0035  0F00        	mov a,0
  63  0036  1200     E  	sbc a,rb
  63  0037  0080     E  	mov rd,a
  63  0038  0700     E  	mov a,rc
  63  0039  0080     E  	mov re,a
  63  003A  0700     E  	mov a,rd
  63  003B  0080     E  	mov rf,a
"File: test5342.c    Assembler  Version HGASM0202      Page 4

  63  003C  0700     R  	mov a,_main_2[0]
  63  003D  0080     E  	mov ra,a
  63  003E  1F00     E  	clr rb
  63  003F  0F04        	mov a,4
  63  0040  0280     E  	subm a,ra
  63  0041  0F00        	mov a,0
  63  0042  1280     E  	sbcm a,rb
  63  0043  340A        	clr c
  63  0044  1A80     E  	rlc ra
  63  0045  1A80     E  	rlc rb
  63  0046  340A        	clr c
  63  0047  1A80     E  	rlc ra
  63  0048  1A80     E  	rlc rb
  63  0049  0F00     E  	mov a,low offset _sensor_weight_window
  63  004A  0380     E  	addm a,ra
  63  004B  0F00     E  	mov a,high offset _sensor_weight_window
  63  004C  1380     E  	adcm a,rb
  63  004D  0700     E  	mov a,ra
  63  004E  0083        	mov mp,a
  63  004F  0700     E  	mov a,rb
  63  0050  0084        	mov sbp,a
  63  0051  2000     E  	call _Crom2Prom
  63  0052  0080     E  	mov ra,a
  63  0053  2000     E  	call _Crom2PromNext
  63  0054  0080     E  	mov rb,a
  63  0055  2000     E  	call _Crom2PromNext
  63  0056  0080     E  	mov rc,a
  63  0057  2000     E  	call _Crom2PromNext
  63  0058  0080     E  	mov rd,a
  63  0059  340A        	clr c
  63  005A  1A80     E  	rlc re
  63  005B  1A80     E  	rlc rf
  63  005C  340A        	clr c
  63  005D  1A80     E  	rlc re
  63  005E  1A80     E  	rlc rf
  63  005F  0F00     E  	mov a,low offset _sensor_weight_window
  63  0060  0380     E  	addm a,re
  63  0061  0F00     E  	mov a,high offset _sensor_weight_window
  63  0062  1380     E  	adcm a,rf
  63  0063  0700     E  	mov a,re
  63  0064  0083        	mov mp,a
  63  0065  0700     E  	mov a,rf
  63  0066  0084        	mov sbp,a
  63  0067  0700     E  	mov a,ra
  63  0068  0082        	mov ir,a
  63  0069  1483        	inc mp
  63  006A  0700     E  	mov a,rb
  63  006B  0082        	mov ir,a
  63  006C  1483        	inc mp
  63  006D  0700     E  	mov a,rc
  63  006E  0082        	mov ir,a
  63  006F  1483        	inc mp
  63  0070  0700     E  	mov a,rd
  63  0071  0082        	mov ir,a
  62  0072              #line 62 "E:\work\Quby\CODE\holtek dev\test5342\test5342.c"
  62  0072  0700     R  	mov a,_main_2[0]
  62  0073  0080     E  	mov ra,a
  62  0074  1400     E  	inca ra
  62  0075  0080     R  	mov _main_2[0],a
  62  0076              _L4:
"File: test5342.c    Assembler  Version HGASM0202      Page 5

  62  0076  0F04        	mov a,4
  62  0077  0200     R  	sub a,_main_2[0]
  62  0078  3C0A        	sz c
  62  0079  2800     R  	jmp _L5
  66  007A              #line 66 "E:\work\Quby\CODE\holtek dev\test5342\test5342.c"
  66  007A  0700     E  	mov a,_sensor[8]
  66  007B  0080     E  	mov ra,a
  66  007C  0700     E  	mov a,_sensor[9]
  66  007D  0080     E  	mov rb,a
  66  007E  0700     E  	mov a,_sensor[10]
  66  007F  0080     E  	mov rc,a
  66  0080  0700     E  	mov a,_sensor[11]
  66  0081  0080     E  	mov rd,a
  66  0082  0F00        	mov a,0
  66  0083  0380     E  	addm a,ra
  66  0084  1380     E  	adcm a,rb
  66  0085  0F80        	mov a,128
  66  0086  1380     E  	adcm a,rc
  66  0087  0F00        	mov a,0
  66  0088  1380     E  	adcm a,rd
  66  0089  0700     E  	mov a,ra
  66  008A  0080     E  	mov _sensor[8],a
  66  008B  0700     E  	mov a,rb
  66  008C  0080     E  	mov _sensor[9],a
  66  008D  0700     E  	mov a,rc
  66  008E  0080     E  	mov _sensor[10],a
  66  008F  0700     E  	mov a,rd
  66  0090  0080     E  	mov _sensor[11],a
  68  0091              #line 68 "E:\work\Quby\CODE\holtek dev\test5342\test5342.c"
  68  0091  0700     E  	mov a,_sensor[8]
  68  0092  0080     E  	mov ra,a
  68  0093  0700     E  	mov a,_sensor[9]
  68  0094  0080     E  	mov rb,a
  68  0095  0700     E  	mov a,_sensor[10]
  68  0096  0080     E  	mov rc,a
  68  0097  0700     E  	mov a,_sensor[11]
  68  0098  0080     E  	mov rd,a
  68  0099  0700     E  	mov a,ra
  68  009A  0080     E  	mov _sensor_weight_window[0],a
  68  009B  0700     E  	mov a,rb
  68  009C  0080     E  	mov _sensor_weight_window[1],a
  68  009D  0700     E  	mov a,rc
  68  009E  0080     E  	mov _sensor_weight_window[2],a
  68  009F  0700     E  	mov a,rd
  68  00A0  0080     E  	mov _sensor_weight_window[3],a
  70  00A1              #line 70 "E:\work\Quby\CODE\holtek dev\test5342\test5342.c"
  70  00A1  3020        	set [32].0
  71  00A2              #line 71 "E:\work\Quby\CODE\holtek dev\test5342\test5342.c"
  71  00A2  2000     E  	call _Sensor_Weight_Filter
  74  00A3              #line 74 "E:\work\Quby\CODE\holtek dev\test5342\test5342.c"
  74  00A3  0700     E  	mov a,_sensor[4]
  74  00A4  0080     E  	mov ra,a
  74  00A5  0700     E  	mov a,_sensor[5]
  74  00A6  0080     E  	mov rb,a
  74  00A7  0700     E  	mov a,_sensor[6]
  74  00A8  0080     E  	mov rc,a
  74  00A9  0700     E  	mov a,_sensor[7]
  74  00AA  0080     E  	mov rd,a
  74  00AB  0700     E  	mov a,ra
  74  00AC  0080     E  	mov _sensor[8],a
"File: test5342.c    Assembler  Version HGASM0202      Page 6

  74  00AD  0700     E  	mov a,rb
  74  00AE  0080     E  	mov _sensor[9],a
  74  00AF  0700     E  	mov a,rc
  74  00B0  0080     E  	mov _sensor[10],a
  74  00B1  0700     E  	mov a,rd
  74  00B2  0080     E  	mov _sensor[11],a
  76  00B3              #line 76 "E:\work\Quby\CODE\holtek dev\test5342\test5342.c"
  76  00B3  0700     E  	mov a,_state[0]
  76  00B4  0080     E  	mov ra,a
  76  00B5  3400     E  	clr ra.6
  76  00B6  0700     E  	mov a,ra
  76  00B7  0080     E  	mov _state[0],a
  78  00B8              #line 78 "E:\work\Quby\CODE\holtek dev\test5342\test5342.c"
  78  00B8  31A0        	set [32].3
  78  00B9              #pragma debug scope 2 1
  85  00B9              #line 85 "E:\work\Quby\CODE\holtek dev\test5342\test5342.c"
  85  00B9  2800     R  	jmp _L6
  85  00BA              _L3:
  85  00BA  2800     R  	jmp _L6
  85  00BB  2800     R  	jmp $
  85  00BC              _main endp
  85  00BC              
  85  00BC              @dummy endp
  85  00BC              
  85  00BC              #line 85 "E:\work\Quby\CODE\holtek dev\test5342\test5342.c"
  85  00BC              #pragma debug scope 1 1
  85  00BC              #pragma debug struct_end
  85  00BC              #pragma debug struct_end
  85  00BC              #pragma debug union_end
  85  00BC              #pragma debug union_end
  85  00BC              #pragma debug variable 43 1 ___hircc "__hircc" 1
  85  00BC              #pragma debug struct_end
  85  00BC              #pragma debug struct_end
  85  00BC              #pragma debug union_end
  85  00BC              #pragma debug union_end
  85  00BC              #pragma debug variable 45 1 ___pa "__pa" 1
  85  00BC              #pragma debug struct_end
  85  00BC              #pragma debug struct_end
  85  00BC              #pragma debug union_end
  85  00BC              #pragma debug union_end
  85  00BC              #pragma debug variable 47 1 ___pac "__pac" 1
  85  00BC              #pragma debug struct_end
  85  00BC              #pragma debug struct_end
  85  00BC              #pragma debug union_end
  85  00BC              #pragma debug union_end
  85  00BC              #pragma debug variable 49 1 ___wdtc "__wdtc" 1
  85  00BC              #pragma debug struct_end
  85  00BC              #pragma debug struct_end
  85  00BC              #pragma debug union_end
  85  00BC              #pragma debug union_end
  85  00BC              #pragma debug variable 51 1 ___intc0 "__intc0" 1
  85  00BC              #pragma debug struct_end
  85  00BC              #pragma debug struct_end
  85  00BC              #pragma debug union_end
  85  00BC              #pragma debug union_end
  85  00BC              #pragma debug variable 53 1 ___pas0 "__pas0" 1
  85  00BC              #pragma debug struct_end
  85  00BC              #pragma debug struct_end
  85  00BC              #pragma debug union_end
  85  00BC              #pragma debug union_end
"File: test5342.c    Assembler  Version HGASM0202      Page 7

  85  00BC              #pragma debug variable 55 1 ___pas1 "__pas1" 1
  85  00BC              #pragma debug struct_end
  85  00BC              #pragma debug struct_end
  85  00BC              #pragma debug union_end
  85  00BC              #pragma debug union_end
  85  00BC              #pragma debug variable 57 1 ___sledc "__sledc" 1
  85  00BC              
  85  00BC              ; output external variables
  85  00BC              extern _sensor:byte
  85  00BC              extern _sensor_weight_window:byte
  85  00BC              extern _state:byte
  85  00BC              extern _slave_id:byte
  25  00BC              #line 25 "E:\work\Quby\CODE\holtek dev\test5342\test5342.c"
  25  0000              @code .section at 0 'code'
  25  0000  2800     R  	jmp _main_startup1
  25  0001              
  25  0001              extern _UART_Init_2:byte
  25  0001              extern _UART_Init:near
  25  0001              extern _ADC_Init:near
  25  0001              extern _Sensor_Weight_Filter:near
  25  0001              
  25  0001              ; 
  25  0001              ; Generated by holtek-gcc v3.19, Thu Nov 03 13:21:59 2022
  25  0001              ; Rebuild 718
  25  0001              ; end of file


        0 Errors, 0